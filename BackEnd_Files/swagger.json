{
	"openapi": "3.0.0",
	"info": {
		"title": "Let's API",
		"version": "1.0.0",
		"license": {
			"name": "MIT"
		},
		"contact": {}
	},
	"host": "localhost:3000",
	"basePath": "/",
	"tags": [
		{
			"name": "Auth",
			"description": "Auth CRUD"
		},
		{
			"name": "Users",
			"description": "Users CRUD"
		},
		{
			"name": "User Configuration",
			"description": "User's Configuration CRUD"
		},
		{
			"name": "User Location",
			"description": "User's Location CRUD"
		},
		{
			"name": "User Pictures",
			"description": "User's Pictures CRUD"
		},
		{
			"name": "Device Token",
			"description": "User's Device Token CRUD"
		},
		{
			"name": "User's Status",
			"description": "User's Status CRUD"
		},
		{
			"name": "Notifications",
			"description": "Notifications CRUD"
		},
		{
			"name": "Connections",
			"description": "Connections CRUD"
		},
		{
			"name": "Chats",
			"description": "Chats CRUD"
		},
		{
			"name": "Messages",
			"description": "Chat's Messages CRUD"
		},
		{
			"name": "Filters",
			"description": "User's Filters CRUD"
		}
	],
	"components": {
		"examples": {},
		"headers": {},
		"parameters": {
			"userid": {
				"description": "A uniq identify for a user",
				"type": "number",
				"format": "integer"
			},
			"onlyOnline": {
				"description": "Sign from the client. 0 = return online and offline users, 1 = return only online users",
				"type": "number",
				"format": "boolean"
			},
			"useridA": {
				"description": "User ID of user A",
				"type": "user id",
				"schema": {
					"$ref": "#/components/parameters/userid"
				}
			},
			"useridB": {
				"description": "User ID of user B",
				"type": "user id",
				"schema": {
					"$ref": "#/components/parameters/userid"
				}
			},
			"offset": {
				"description": "Offset that determines from which messages will be sent 50 messages each time",
				"type": "number",
				"format": "integer"
			}
		},
		"requestBodies": {
			"filters_Request_Body": {
				"properties": {
					"search_mode_filter": {
						"type": "string"
					},
					"hobbies_filter": {
						"type": "string"
					},
					"gender_filter": {
						"type": "string"
					},
					"relationship_filter": {
						"type": "string"
					},
					"interested_in_filter": {
						"type": "string"
					},
					"age_filter": {
						"type": "array",
						"items": {
							"type": "number",
							"format": "integer"
						}
					},
					"radius_filter": {
						"type": "number",
						"format": "integer"
					},
					"friends_only_filter": {
						"type": "number",
						"format": "boolean"
					}
				},
				"required": [
					"search_mode_filter",
					"hobbies_filter",
					"gender_filter",
					"relationship_filter",
					"interested_in_filter",
					"age_filter",
					"radius_filter",
					"friends_only_filter"
				],
				"type": "object"
			},
			"userStatus_Request_Body": {
				"properties": {
					"status": {
						"type": "string"
					}
				},
				"required": ["status"],
				"type": "object"
			},
			"messages_Request_Body": {
				"properties": {
					"content": {
						"type": "string"
					}
				},
				"required": ["content"],
				"type": "object"
			}
		},
		"responses": {
			"Get_UserConfigurationResponse": {
				"properties": {
					"user_id": {
						"type": "number",
						"format": "integer"
					},
					"first_name": {
						"type": "string"
					},
					"last_name": {
						"type": "string"
					},
					"date_of_birth": {
						"type": "string",
						"description": "Date of birth",
						"example": "2017-01-01",
						"format": "date",
						"pattern": "YYYY-MM-DD",
						"minLength": 0,
						"maxLength": 10
					},
					"city": {
						"type": "string"
					},
					"gender": {
						"type": "string"
					},
					"phone_number": {
						"type": "string"
					},
					"registration_date": {
						"type": "string",
						"description": "Registration date",
						"example": "2017-01-01",
						"format": "date",
						"pattern": "YYYY-MM-DD",
						"minLength": 0,
						"maxLength": 10
					},
					"relationship_status": {
						"type": "string"
					},
					"sexual_orientation": {
						"type": "string"
					},
					"profession": {
						"type": "string"
					},
					"pronoun": {
						"type": "string"
					},
					"hobbies": {
						"type": "string"
					},
					"age": {
						"type": "number",
						"format": "integer"
					},
					"image": {
						"type": "string"
					},
					"search_mode": {
						"type": "string"
					},
					"distance": {
						"type": "number",
						"format": "integer"
					},
					"online": {
						"type": "number",
						"format": "boolean"
					}
				},
				"type": "object"
			},
			"Get_ConnectionByTypeResponse": {
				"properties": {
					"user_id": {
						"type": "number",
						"format": "integer"
					},
					"first_name": {
						"type": "string"
					},
					"last_name": {
						"type": "string"
					},
					"date_of_birth": {
						"type": "string",
						"description": "Date of birth",
						"example": "2017-01-01",
						"format": "date",
						"pattern": "YYYY-MM-DD",
						"minLength": 0,
						"maxLength": 10
					},
					"city": {
						"type": "string"
					},
					"gender": {
						"type": "string"
					},
					"phone_number": {
						"type": "string"
					},
					"registration_date": {
						"type": "string",
						"description": "Registration date",
						"example": "2017-01-01",
						"format": "date",
						"pattern": "YYYY-MM-DD",
						"minLength": 0,
						"maxLength": 10
					},
					"relationship_status": {
						"type": "string"
					},
					"sexual_orientation": {
						"type": "string"
					},
					"profession": {
						"type": "string"
					},
					"pronoun": {
						"type": "string"
					},
					"hobbies": {
						"type": "string"
					},
					"age": {
						"type": "number",
						"format": "integer"
					},
					"image": {
						"type": "string"
					},
					"search_mode": {
						"type": "string"
					},
					"distance": {
						"type": "number",
						"format": "integer"
					},
					"online": {
						"type": "number",
						"format": "boolean"
					},
					"mutualConnections": {
						"type": "number",
						"format": "boolean"
					},
					"requestsUserSent": {
						"type": "number",
						"format": "boolean"
					},
					"requestsUserReceived": {
						"type": "number",
						"format": "boolean"
					},
					"notConnected": {
						"type": "number",
						"format": "boolean"
					}
				},
				"type": "object"
			},
			"Post_Filters_Response": {
				"type": "array",
				"items": {
					"type": "object",
					"properties": {
						"schema": {
							"$ref": "#/components/responses/Get_UserConfigurationResponse"
						}
					}
				}
			},
			"Get_General_Filters_Response": {
				"type": "array",
				"items": {
					"type": "object",
					"properties": {
						"user_id": {
							"type": "number",
							"format": "integer"
						},
						"search_mode": {
							"type": "string"
						},
						"hobbies_filter": {
							"type": "string"
						},
						"gender_filter": {
							"type": "string"
						},
						"relationship_filter": {
							"type": "string"
						},
						"interested_in_filter": {
							"type": "string"
						},
						"age_filter": {
							"type": "array",
							"items": {
								"type": "number",
								"format": "integer"
							}
						},
						"radius_filter": {
							"type": "number",
							"format": "integer"
						},
						"friends_only_filter": {
							"type": "number",
							"format": "boolean"
						}
					}
				}
			},
			"Get_FilteredUsers_Filters_Response": {
				"type": "array",
				"items": {
					"type": "object",
					"properties": {
						"schema": {
							"$ref": "#/components/responses/Get_ConnectionByTypeResponse"
						}
					}
				}
			},
			"Get_User_Status_Response": {
				"type": "object",
				"properties": {
					"user_id": {
						"type": "number",
						"format": "integer"
					},
					"status_last_update": {
						"type": "string",
						"description": "Date of birth",
						"example": "2017-01-01",
						"format": "date",
						"pattern": "YYYY-MM-DD",
						"minLength": 0,
						"maxLength": 10
					},
					"user_status": {
						"type": "string"
					}
				}
			},
			"Post_User_Status_Response": {
				"properties": {
					"schema": {
						"$ref": "#/components/responses/Get_User_Status_Response"
					}
				},
				"type": "object"
			},
			"Post_Messages_Response": {
				"type": "object",
				"properties": {
					"chat_id": {
						"type": "number",
						"format": "integer"
					},
					"creation_date": {
						"type": "string",
						"description": "Date of birth",
						"example": "2017-01-01",
						"format": "date",
						"pattern": "YYYY-MM-DD",
						"minLength": 0,
						"maxLength": 10
					},
					"sender_user_id": {
						"type": "number",
						"format": "integer"
					},
					"receiver_user_id": {
						"type": "number",
						"format": "integer"
					},
					"content": {
						"type": "string"
					}
				}
			},
			"Get_A_Chat_Room_Details": {
				"type": "object",
				"properties": {
					"chat_id": {
						"type": "number",
						"format": "integer"
					},
					"creation_date": {
						"type": "string",
						"description": "Date of birth",
						"example": "2017-01-01",
						"format": "date",
						"pattern": "YYYY-MM-DD",
						"minLength": 0,
						"maxLength": 10
					},
					"last_login": {
						"type": "string",
						"description": "Date of birth",
						"example": "2017-01-01",
						"format": "date",
						"pattern": "YYYY-MM-DD",
						"minLength": 0,
						"maxLength": 10
					},
					"user_A_id": {
						"type": "number",
						"format": "integer"
					},
					"user_B_id": {
						"type": "number",
						"format": "integer"
					}
				}
			},
			"Get_A_User_Chat_Rooms": {
				"type": "array",
				"items": {
					"type": "object",
					"properties": {
						"user_id": {
							"type": "number",
							"format": "integer"
						},
						"first_name": {
							"type": "string"
						},
						"last_name": {
							"type": "string"
						},
						"date_of_birth": {
							"type": "string",
							"description": "Date of birth",
							"example": "2017-01-01",
							"format": "date",
							"pattern": "YYYY-MM-DD",
							"minLength": 0,
							"maxLength": 10
						},
						"city": {
							"type": "string"
						},
						"gender": {
							"type": "string"
						},
						"phone_number": {
							"type": "string"
						},
						"registration_date": {
							"type": "string",
							"description": "Registration date",
							"example": "2017-01-01",
							"format": "date",
							"pattern": "YYYY-MM-DD",
							"minLength": 0,
							"maxLength": 10
						},
						"relationship_status": {
							"type": "string"
						},
						"sexual_orientation": {
							"type": "string"
						},
						"profession": {
							"type": "string"
						},
						"pronoun": {
							"type": "string"
						},
						"hobbies": {
							"type": "string"
						},
						"age": {
							"type": "number",
							"format": "integer"
						},
						"image": {
							"type": "string"
						},
						"search_mode": {
							"type": "string"
						},
						"distance": {
							"type": "number",
							"format": "integer"
						},
						"online": {
							"type": "number",
							"format": "boolean"
						},
						"chat_id": {
							"type": "number",
							"format": "integer"
						},
						"creation_date": {
							"type": "string",
							"description": "Date of birth",
							"example": "2017-01-01",
							"format": "date",
							"pattern": "YYYY-MM-DD",
							"minLength": 0,
							"maxLength": 10
						},
						"sender_user_id": {
							"type": "number",
							"format": "integer"
						},
						"receiver_user_id": {
							"type": "number",
							"format": "integer"
						},
						"content": {
							"type": "string"
						}
					}
				}
			},
			"Get_Users_Chat_Messages": {
				"type": "array",
				"items": {
					"type": "object",
					"properties": {
						"chat_id": {
							"type": "number",
							"format": "integer"
						},
						"creation_date": {
							"type": "string",
							"description": "Date of birth",
							"example": "2017-01-01",
							"format": "date",
							"pattern": "YYYY-MM-DD",
							"minLength": 0,
							"maxLength": 10
						},
						"sender_user_id": {
							"type": "number",
							"format": "integer"
						},
						"receiver_user_id": {
							"type": "number",
							"format": "integer"
						},
						"content": {
							"type": "string"
						}
					}
				}
			},
			"Get_General_Chats_Response": {
				"type": "array",
				"items": {
					"type": "object",
					"properties": {
						"schema": {
							"$ref": "#/components/responses/Get_A_Chat_Room_Details"
						}
					}
				}
			},
			"MsgToClient": {
				"properties": {
					"msg": {
						"type": "string"
					}
				},
				"required": ["msg"],
				"type": "object"
			},
			"Error": {
				"properties": {
					"code": {
						"type": "number",
						"example": 404
					},
					"msg": {
						"type": "string"
					}
				},
				"required": ["code", "msg"],
				"type": "object"
			}
		},
		"schemas": {},
		"securitySchemes": {}
	},
	"paths": {
		"filters/": {
			"get": {
				"operationId": "Filters-GeneralGet",
				"description": "Get all filters in DB",
				"tags": ["Filters"],
				"parameters": [],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Get_General_Filters_Response"
								}
							}
						}
					},
					"404": {
						"description": "Error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Error"
								}
							}
						}
					}
				}
			}
		},
		"filters/filteredUsers/{userid}/{onlyOnline}": {
			"get": {
				"operationId": "Filters-FilteredUsers",
				"description": "Get users' configuration by user's chosen filters",
				"tags": ["Filters"],
				"parameters": [
					{
						"required": true,
						"name": "user id",
						"schema": {
							"$ref": "#/components/parameters/userid"
						}
					},
					{
						"required": true,
						"name": "online only",
						"schema": {
							"$ref": "#/components/parameters/onlyOnline"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Get_FilteredUsers_Filters_Response"
								}
							}
						}
					},
					"404": {
						"description": "Error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Error"
								}
							}
						}
					}
				}
			}
		},
		"filters/{userid}/{onlyOnline}": {
			"post": {
				"operationId": "Filters-Post",
				"description": "Create or update user's filters",
				"tags": ["Filters"],
				"parameters": [
					{
						"required": true,
						"name": "user id",
						"schema": {
							"$ref": "#/components/parameters/userid"
						}
					},
					{
						"required": true,
						"name": "online only",
						"schema": {
							"$ref": "#/components/parameters/onlyOnline"
						}
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/requestBodies/filters_Request_Body"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Post_Filters_Response"
								}
							}
						}
					},
					"404": {
						"description": "Error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Error"
								}
							}
						}
					}
				}
			}
		},
		"filters/{userid}": {
			"delete": {
				"operationId": "Filters-Delete",
				"description": "Delete a user's filters from DB",
				"tags": ["Filters"],
				"parameters": [
					{
						"required": true,
						"name": "user id",
						"schema": {
							"$ref": "#/components/parameters/userid"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/MsgToClient"
								}
							}
						}
					},
					"404": {
						"description": "Error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Error"
								}
							}
						}
					}
				}
			}
		},
		"userStatus/{userid}": {
			"get": {
				"operationId": "UserStatus-Get",
				"description": "Get a user's status",
				"tags": ["User's Status"],
				"parameters": [
					{
						"required": true,
						"name": "user id",
						"schema": {
							"$ref": "#/components/parameters/userid"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Get_User_Status_Response"
								}
							}
						}
					},
					"404": {
						"description": "Error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Error"
								}
							}
						}
					}
				}
			},
			"post": {
				"operationId": "UserStatus-Post",
				"description": "Create or update user's status. For delete user's status use this request and send status = \"\"",
				"tags": ["User's Status"],
				"parameters": [
					{
						"required": true,
						"name": "user id",
						"schema": {
							"$ref": "#/components/parameters/userid"
						}
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/requestBodies/userStatus_Request_Body"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Post_User_Status_Response"
								}
							}
						}
					},
					"404": {
						"description": "Error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Error"
								}
							}
						}
					}
				}
			}
		},
		"messages/{useridA}/{useridB}": {
			"post": {
				"operationId": "Messages-Post",
				"description": "Send a message on two users' chat room. Sender (user id A) HAS to be connected to WS",
				"tags": ["Messages"],
				"parameters": [
					{
						"required": true,
						"name": "sender (useridA)",
						"schema": {
							"$ref": "#/components/parameters/useridA"
						}
					},
					{
						"required": true,
						"name": "receiver (useridB)",
						"schema": {
							"$ref": "#/components/parameters/useridB"
						}
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/requestBodies/messages_Request_Body"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Post_Messages_Response"
								}
							}
						}
					},
					"404": {
						"description": "Error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Error"
								}
							}
						}
					}
				}
			}
		},
		"chats/": {
			"get": {
				"operationId": "Chats-GeneralGet",
				"description": "Get all chats in DB",
				"tags": ["Chats"],
				"parameters": [],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Get_General_Chats_Response"
								}
							}
						}
					},
					"404": {
						"description": "Error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Error"
								}
							}
						}
					}
				}
			}
		},
		"chats/{userid}": {
			"get": {
				"operationId": "Chats-Get-User-ChatRooms",
				"description": "Get all user's chat rooms",
				"tags": ["Chats"],
				"parameters": [
					{
						"required": true,
						"name": "user id",
						"schema": {
							"$ref": "#/components/parameters/userid"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Get_A_User_Chat_Rooms"
								}
							}
						}
					},
					"404": {
						"description": "Error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Error"
								}
							}
						}
					}
				}
			}
		},
		"chats/{useridA}/{useridB}/{offset}": {
			"get": {
				"operationId": "Chats-Get-Users-Chat-Messages",
				"description": "Get two users' 50 chat's messages from offset",
				"tags": ["Chats"],
				"parameters": [
					{
						"required": true,
						"name": "user id A",
						"schema": {
							"$ref": "#/components/parameters/useridA"
						}
					},
					{
						"required": true,
						"name": "user id B",
						"schema": {
							"$ref": "#/components/parameters/useridB"
						}
					},
					{
						"required": true,
						"name": "offset",
						"schema": {
							"$ref": "#/components/parameters/offset"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Get_Users_Chat_Messages"
								}
							}
						}
					},
					"404": {
						"description": "Error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Error"
								}
							}
						}
					}
				}
			}
		},
		"chats/{useridA}/{useridB}": {
			"delete": {
				"operationId": "Chats-Delete",
				"description": "Delete all chat's messages",
				"tags": ["Chats"],
				"parameters": [
					{
						"required": true,
						"name": "user id A",
						"schema": {
							"$ref": "#/components/parameters/useridA"
						}
					},
					{
						"required": true,
						"name": "user id B",
						"schema": {
							"$ref": "#/components/parameters/useridB"
						}
					}
				],
				"responses": {
					"200": {
						"description": "OK",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/MsgToClient"
								}
							}
						}
					},
					"404": {
						"description": "Error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/responses/Error"
								}
							}
						}
					}
				}
			}
		}
	},
	"servers": [
		{
			"url": "/swagger-api"
		}
	]
}
